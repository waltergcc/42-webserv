server {
	server_name main;
	listen 8080;
	host localhost;
	root /home/wcorrea-/workplace/common_core/webserv/webserv/websites/main;
	# root /mnt/c/Users/joaos/Desktop/Desktop/42/Projects/42-webserv/webserv/websites/main;
	index index.html;
	client_max_body_size 1M;
	error_page 404.html;

	location / {
		allow_methods GET;
		autoindex on;
	}

	location /upload {
		allow_methods GET DELETE;
		try_file file.html;
	}

	location .py {
		allow_methods GET POST DELETE;
		cgi_path /cgi;
		cgi_ext .py;
		upload_to /upload;
	}

	location /favicon.ico {
		allow_methods GET;
	}

	location /redirect {
		allow_methods GET;
		return /index.html;
	}
}
